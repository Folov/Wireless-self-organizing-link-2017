## 使用方法
|  程序名  |    源端IP   |   参数  |

1.  ./test.exe 192.168.12.11 Please~ (获取信息，节省资源)
2.  ./test.exe 192.168.12.11 Renew~ (获取最新信息，资源消耗较大)

> Renew~指令会更新心跳信息以及各路由器节点的北斗定位数据和周围AP信息（全部更新）；而Please~指令只会更新心跳信息。
>> 建议：可每隔一段时间使用Renew刷新数据。如4次Please~后接一次Renew~

## TCP协议相关信息
- 端口：9901 
- 源端路由器IP：192.168.12.11（WAN），192.168.11.11（LAN）
> 源端路由器可通过WAN口接入和LAN口接入。只是IP不同而已。
> > 建议：使用WAN口接入，该网口不参与链路控制信息传递。

## 数据格式
 向源端路由器的9901端口发送"Please~"或"Renew~"参数后，将得到如下信息：

    000000000000000001000000010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
	2
	openwrt17-openwrt25-openwrt11
	openwrt27-openwrt11
    192.168.17.17
	BDS:2018-07-03 16:29:51,39.908030000,116.554955000,73.7,00
    BSS:    60:45:cb:cb:ae:18
    freq:   5745
    signal: -56.00 dBm
    SSID:   ASUS_5G-2
    BSS:    74:1f:4a:b1:7b:60
    freq:   5745
    signal: -82.00 dBm
    SSID:   BISU
    192.168.25.25
	BDS:2018-07-03 16:29:51,39.908030000,116.554955000,73.7,00
    BSS:    60:45:cb:cb:ae:18
    freq:   5745
    signal: -46.00 dBm
    SSID:   ASUS_5G-2
    192.168.27.27
	BDS:000000000000000000000000000000000000000000000000000000
    BSS:    60:45:cb:cb:ae:18
    freq:   5745
    signal: -49.00 dBm
    SSID:   ASUS_5G-2
    ...

## 数据解释
1. 第一个数据段为255个路由器的心跳数据，也即***动态数据***，首元素为0，即第1个表示的是**192.168.0.0**，第18个表示的是**192.168.17.17**；
2. 心跳数据为1表示收到心跳，为0表示未收到心跳；
3. 第二个数据段为链路连接关系图，也即***链接数据***。第一行为链路个数，该例子中为2。
4. "openwrt17-openwrt25-openwrt11"表示：用户端路由器openwrt17与中继端路由器openwrt25连接，openwrt25与源端openwrt11连接，不同的链路会分行表示。示例数据表示有两条链路接入。
5. 第三个数据段开始为各路由器北斗定位信息和周围AP信息，以该路由器IP地址打头，其次是该路由器获得的北斗定位信息，再往下依次为MAC地址(BSS)、中心频率(freq)、信号强度(signal)、AP名(SSID)，该部分为***静态数据***；
6. 各路由器信息按IP最后字段的大小顺序排序，与路由器连接顺序无关。
7. 某些路由器可能定位信息无法获取，因此可能接收到的数据全为0，如**192.168.27.27**路由器的信息所示；
8. 北斗定位信息含义依次为: BDS:日期 时间,北纬,东经,高度(m),卫星颗数
9. **当某节点心跳1 -> 0 后，其静态数据仍会存在，需选择性忽略显示。或可用Renew~参数命令进行刷新**

## 编译指令
Linux命令行：`gcc -Wall -std=c99 ./*.c -o test.exe`